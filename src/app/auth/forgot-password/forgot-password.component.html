<section class="recovery-page">
  <span class="background-glow background-glow--top" aria-hidden="true"></span>
  <span class="background-glow background-glow--bottom" aria-hidden="true"></span>

  <nav class="recovery-nav">
    <div class="logo">
      <span class="logo__badge" aria-hidden="true">
        <svg viewBox="0 0 24 24" stroke-width="2.5" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path stroke-linecap="round" stroke-linejoin="round" stroke="currentColor" d="M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
        </svg>
      </span>
      <span class="logo__text">Vigía.AI</span>
    </div>
  </nav>

  <div class="recovery-card">
    <div class="glass-card">
      <header class="card-header">
        <div class="icon-badge">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" aria-hidden="true">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 7a2 2 0 012 2m4 0a6 6 0 01-7.743 5.743L11 17H9v2H7v2H4a1 1 0 01-1-1v-2.586a1 1 0 01.293-.707l5.964-5.964A6 6 0 1121 9z" />
          </svg>
        </div>
        <h1>¿Olvidaste tu contraseña?</h1>
        <p>No te preocupes. Ingresa tu correo corporativo y te enviaremos un enlace para restablecerla.</p>
      </header>

      <form class="recovery-form" [formGroup]="recoveryForm" (ngSubmit)="onSubmit()" novalidate>
        <div class="form-field" [class.form-field--invalid]="emailControl?.invalid && emailControl?.touched">
          <label for="email">Correo Corporativo</label>
          <div class="input-wrapper">
            <span class="input-icon" aria-hidden="true">
              <svg viewBox="0 0 20 20" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                <path d="M2.003 5.884L10 9.882l7.997-3.998A2 2 0 0016 4H4a2 2 0 00-1.997 1.884z" />
                <path d="M18 8.118l-8 4-8-4V14a2 2 0 002 2h12a2 2 0 002-2V8.118z" />
              </svg>
            </span>
            <input
              id="email"
              type="email"
              placeholder="nombre@empresa.com"
              formControlName="email"
              autocomplete="email"
            />
          </div>
          <p class="field-error" *ngIf="emailControl?.invalid && emailControl?.touched">
            Ingresa un correo válido.
          </p>
        </div>

        <button class="primary-button" type="submit" [disabled]="recoveryForm.invalid || isSubmitting">
          {{ isSubmitting ? 'Enviando...' : 'Enviar enlace de recuperación' }}
        </button>
      </form>

      <a class="back-link" routerLink="/auth/login">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" aria-hidden="true">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18" />
        </svg>
        Volver al inicio de sesión
      </a>
    </div>

    <footer class="recovery-footer">
      © 2024 Vigía.AI. Seguridad e Inteligencia en Obra.
    </footer>
  </div>
</section>
